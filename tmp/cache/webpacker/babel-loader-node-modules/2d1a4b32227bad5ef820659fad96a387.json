{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar coffee = require(\"coffeescript\");\n\nvar loaderUtils = require(\"loader-utils\");\n\nmodule.exports = function (source) {\n  this.cacheable && this.cacheable();\n  var coffeeRequest = loaderUtils.getRemainingRequest(this);\n  var jsRequest = loaderUtils.getCurrentRequest(this);\n  var query = loaderUtils.getOptions(this) || {};\n  var result;\n\n  try {\n    result = coffee.compile(source, {\n      literate: query.literate,\n      filename: coffeeRequest,\n      debug: this.debug,\n      bare: true,\n      sourceMap: true,\n      sourceRoot: \"\",\n      sourceFiles: [coffeeRequest],\n      generatedFile: jsRequest,\n      transpile: query.transpile\n    });\n  } catch (e) {\n    var err = \"\";\n\n    if (e.location == null || e.location.first_column == null || e.location.first_line == null) {\n      err += \"Got an unexpected exception from the coffeescript compiler. The original exception was: \" + e + \"\\n\";\n      err += \"(The coffeescript compiler should not raise *unexpected* exceptions. You can file this error as an issue of the coffeescript compiler: https://github.com/jashkenas/coffee-script/issues)\\n\";\n    } else {\n      var codeLine = source.split(\"\\n\")[e.location.first_line];\n      var offendingCharacter = e.location.first_column < codeLine.length ? codeLine[e.location.first_column] : \"\";\n      err += e + \"\\n\"; // log erroneous line and highlight offending character\n\n      err += \"    L\" + e.location.first_line + \": \" + codeLine.substring(0, e.location.first_column) + offendingCharacter + codeLine.substring(e.location.first_column + 1) + \"\\n\";\n      err += \"         \" + new Array(e.location.first_column + 1).join(\" \") + \"^\\n\";\n    }\n\n    throw new Error(err);\n  }\n\n  var map = JSON.parse(result.v3SourceMap);\n  map.sourcesContent = [source];\n  this.callback(null, result.js, map);\n};","map":null,"metadata":{},"sourceType":"module"}